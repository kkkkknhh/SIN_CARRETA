# MINIMINIMOON v2.0 - Dependencias Completas para Flujos Críticos
# Updated: 2025-10-05
# Python 3.10+ required
# ============================================================================
# CORE DEPENDENCIES (Orquestador Canónico)
# ============================================================================

# Core Python Libraries (built-in, pero listadas para referencia)
# json, hashlib, random, logging, pathlib, typing, dataclasses, datetime, enum, sys

# Core ML/NLP Dependencies
numpy>=1.21.0,<1.27.0  # Python 3.10+ compatible
scipy>=1.7.0,<1.15.0
scikit-learn>=1.5.0,<1.7.0
torch>=1.12.0,<3.0.0  # Python 3.10+ compatible, supports torch 2.x
transformers>=4.20.0,<4.50.0
tokenizers>=0.13.0,<0.20.0

# Sentence Transformers (FLOW #4: Embeddings)
sentence-transformers>=2.2.0,<2.3.0

# NLP Processing (FLOW #1: Sanitization, FLOW #5-9: Detectors)
spacy>=3.8.0,<3.9.0
es-core-news-sm @ https://github.com/explosion/spacy-models/releases/download/es_core_news_sm-3.8.0/es_core_news_sm-3.8.0-py3-none-any.whl

# Text Processing
unicodedata2>=15.0.0  # Python 3.10 compatible Unicode handling
regex>=2022.0.0

# ============================================================================
# DATA PROCESSING & ANALYSIS
# ============================================================================

# Data Processing (FLOW #2: Plan Processor)
pandas>=2.0.0

# Document Processing (Input handling)
pdfplumber>=0.7.0
PyPDF2>=3.0.0
python-docx>=0.8.11

# ============================================================================
# GRAPH & NETWORK ANALYSIS
# ============================================================================

# Network Analysis (FLOW #10-11: Teoría del Cambio, DAG Validation)
networkx>=2.6.0,<4.0.0
matplotlib>=3.5.0  # Para visualización de grafos

# ============================================================================
# JSON & CONFIGURATION
# ============================================================================

# JSON Schema Validation
jsonschema>=4.0.0

# YAML Processing (para configuración)
pyyaml>=6.0.0

# ============================================================================
# DETERMINISM & REPRODUCIBILITY
# ============================================================================

# Fixed seeds and deterministic operations are handled in code
# No additional packages required

# ============================================================================
# LOGGING & MONITORING
# ============================================================================

# Structured logging
python-json-logger>=2.0.0

# System monitoring (FLOW #17: Validation)
psutil>=5.8.0

# ============================================================================
# TESTING & QUALITY ASSURANCE
# ============================================================================

# Testing Framework
pytest>=7.0.0,<8.0.0
pytest-cov>=4.0.0
pytest-mock>=3.10.0
pytest-timeout>=2.1.0
pytest-asyncio>=0.21.0
httpx>=0.25.0  # For FastAPI test client

# Type Checking
mypy>=1.0.0
types-pyyaml>=6.0.0

# Code Quality
black>=23.0.0
flake8>=6.0.0
isort>=5.12.0
pylint>=2.17.0

# ============================================================================
# OPTIONAL: PERFORMANCE & OPTIMIZATION
# ============================================================================

# Parallel processing
joblib>=1.2.0

# Memory profiling
memory-profiler>=0.60.0

# ============================================================================
# OPTIONAL: ADVANCED FEATURES
# ============================================================================

# OpenTelemetry (para instrumentación avanzada)
opentelemetry-api>=1.15.0,<2.0.0
opentelemetry-sdk>=1.15.0,<2.0.0
opentelemetry-instrumentation>=0.36b0,<1.0.0
prometheus-client>=0.16.0,<0.18.0

# ============================================================================
# DEPLOYMENT & PRODUCTION
# ============================================================================

# Configuration management
python-dotenv>=1.0.0

# CLI enhancement
click>=8.1.0,<9.0.0
rich>=13.0.0  # Para output colorido en CLI

# API Server (FastAPI)
fastapi>=0.104.0
uvicorn[standard]>=0.24.0
python-multipart>=0.0.6  # For file uploads

# Task Queue (Redis + Celery)
redis>=5.0.0
celery>=5.3.0

# ============================================================================
# COMPATIBILITY & UTILITIES
# ============================================================================

# Compatibility shims
typing-extensions>=4.0.0

# Progress bars
tqdm>=4.65.0

# ============================================================================
# PROTOBUF & CONTRACT INFRASTRUCTURE
# ============================================================================

# Protobuf and gRPC
protobuf>=4.23.0,<5.0.0
grpcio>=1.54.0,<2.0.0
grpcio-tools>=1.54.0,<2.0.0  # For protoc Python plugin

# Pydantic for data validation (v2)
pydantic>=2.0.0,<3.0.0
pydantic-settings>=2.0.0

# ============================================================================
# NOTES
# ============================================================================
#
# Installation:
#   pip install -r requirements.txt
#
# For development:
#   pip install -r requirements.txt -r requirements-dev.txt
#
# For GPU support (CUDA):
#   pip install torch --index-url https://download.pytorch.org/whl/cu118
#
# Spacy language models:
#   The es_core_news_sm model is automatically installed via the URL above (line 24).
#   For additional models, use:
#   python -m spacy download es_core_news_md
#
# Buf for Protobuf linting:
#   Download from: https://github.com/bufbuild/buf/releases
#   Or install via: brew install bufbuild/buf/buf (macOS)
#
# ============================================================================
