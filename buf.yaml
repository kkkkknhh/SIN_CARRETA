# buf.yaml
# Buf configuration for evidence.proto linting and breaking change detection
version: v1

# Lint configuration
lint:
  use:
    - DEFAULT
  enum_zero_value_suffix: _UNSPECIFIED
  rpc_allow_same_request_response: false
  rpc_allow_google_protobuf_empty_requests: false
  rpc_allow_google_protobuf_empty_responses: false

# Breaking change detection configuration
breaking:
  use:
    - FILE
  ignore_unstable_packages: true

# Module configuration
modules:
  - path: proto
    name: buf.build/miniminimoon/evidence

# How to run:
# 
# 1. Install Buf:
#    brew install bufbuild/buf/buf  # macOS
#    or download from: https://github.com/bufbuild/buf/releases
#
# 2. Run linting:
#    buf lint proto/
#
# 3. Check for breaking changes (against main branch):
#    buf breaking proto/ --against '.git#branch=main'
#
# 4. Generate code:
#    buf generate proto/
#
# Note: This configuration enforces strict protobuf style and breaking change detection.
# All enums must have _UNSPECIFIED as zero value, and field additions/removals are tracked.
